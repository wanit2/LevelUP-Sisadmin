# Веб-сервер. Настройка и управление

<img src="./.src/1.jpg" style="width:100%">

## Web-сервер : LAMP, Apache, Nginx. Php-fpm

**Веб-сервер** - это серверное программное обеспечение, которое обрабатывает запросы от клиентов и предоставляет им веб-страницы, содержимое и другие ресурсы через Интернет. Он отвечает на запросы HTTP (Hypertext Transfer Protocol) от клиентов, таких как веб-браузеры, и возвращает им запрошенную информацию.

Веб-сервер выполняет следующие функции:

1. Обработка запросов: Веб-сервер принимает HTTP запросы от клиентов (например, браузеров) и обрабатывает их, чтобы вернуть запрашиваемую информацию, такую как веб-страницы, изображения, видео и другие ресурсы.

2. Хранение и предоставление файлов: Веб-сервер хранит веб-страницы и другие ресурсы (например, HTML, CSS, JavaScript файлы) и предоставляет их по запросу клиентам.

3. Управление соединениями: Веб-сервер управляет соединениями с клиентами, обеспечивая устойчивость и надежность в обработке запросов.

4. Обеспечение безопасности: Веб-сервер может обеспечивать безопасность передаваемых данных с использованием шифрования (например, HTTPS).



### LAMP (Linux, Apache, MySQL, PHP/Perl/Python) - это стек технологий, который объединяет несколько надежных и популярных программных инструментов для создания динамических веб-сайтов и приложений. Он состоит из операционной системы Linux, веб-сервера Apache, системы управления базами данных MySQL (или MariaDB) и языка программирования PHP, Perl или Python.

Некоторые из преимуществ веб-сервера LAMP:

1. Открытость и свободность: Все компоненты LAMP (Linux, Apache, MySQL, PHP/Perl/Python) являются открытыми и свободно распространяемыми. Это позволяет разработчикам бесплатно использовать и модифицировать эти компоненты.

2. Гибкость и расширяемость: Благодаря использованию открытых и гибких технологий, LAMP-стек позволяет легко интегрировать сторонние инструменты и расширения для удовлетворения конкретных потребностей проекта.
   
### Apache
Apache HTTP Server (обычно сокращенно называется Apache) - это свободно распространяемый веб-сервер, который широко используется для хостинга веб-сайтов и приложений. Apache был разработан и поддерживается Apache Software Foundation.

Вот как работает Apache:

1. Получение запроса: Apache прослушивает определенный порт на сервере (обычно порт 80 для HTTP и порт 443 для HTTPS) и ожидает входящие запросы от клиентов (например, браузеров пользователей).

2. Обработка запроса: Когда Apache получает запрос, он анализирует его и определяет, какой файл или ресурс запрашивает клиент. Это может быть HTML-страница, изображения, статический файл или динамически сгенерированный контент.

3. Выполнение запроса: В зависимости от типа запрашиваемого ресурса, Apache может обратиться к локальному файловому хранилищу сервера или передать запрос на выполнение скрипта на сервере (например, PHP, Python, Perl). После выполнения запроса Apache генерирует HTTP-ответ.

4. Отправка ответа клиенту: Apache создает HTTP-ответ, который включает запрашиваемый контент, статус ответа (например, 200 OK для успешного запроса), заголовки ответа (содержащие метаданные о содержимом и обработкой запроса) и тело ответа (содержащее данные). Этот ответ отправляется обратно клиенту.

### Nginx 

Nginx - это другой популярный веб-сервер, который часто используется для хостинга веб-сайтов и приложений. Он изначально был создан для решения проблем производительности, которые возникали при работе Apache в крупных и высоконагруженных средах. В настоящее время Nginx также широко применяется во многих других сценариях, таких как обратный прокси-сервер, балансировщик нагрузки и кеширование контента.

Вот как работает Nginx:

1. Получение запроса: На подобие Apache, Nginx также прослушивает определенный порт на сервере (например, порт 80 для HTTP и порт 443 для HTTPS) и ожидает входящие запросы от клиентов.

2. Обработка запроса: После получения запроса Nginx определяет, какой ресурс или файл запрашивает клиент. Однако, Nginx обрабатывает запросы асинхронно и не блокирует поток выполнения для каждого запроса, что делает его более эффективным по сравнению с Apache в высоконагруженных условиях.

3. Выполнение запроса и обработка статических файлов: Nginx хорошо справляется с обработкой статических файлов, таких как HTML, CSS, изображения и т.д. Он также может использовать кэширование для ускорения обработки запросов.

Его функционал:

- Веб-сервер - это серверное программное обеспечение или система оборудования, предназначенная для работы этого программного обеспечения,  которое может удовлетворять запросы клиентов во Всемирной паутине. Он отвечает на запросы веб-содержимого, обычно HTML-страниц и связанных с ними активов, от клиентского программного обеспечения, такого как веб-браузеры.
- Обратный прокси-сервер - это сервер, который находится перед веб-серверами и перенаправляет запросы клиентов на эти веб-серверы. Это  добавляет дополнительный уровень абстракции и контроля для обеспечения бесперебойного потока сетевого трафика между клиентами и серверами.
- Балансировщик нагрузки распределяет сетевой трафик или трафик приложений между несколькими серверами. Это помогает оптимизировать  использование ресурсов, максимизировать пропускную способность, минимизировать время отклика и избежать перегрузки какого-либо одного  сервера.
- Кэш HTTP хранит копии ответов на запросы к веб-серверу. Кэш может быть расположен на сервере или на отдельном серверном оборудовании и  позволяет избежать обращения к исходному серверу при последующих запросах на то же содержимое.
- Почтовый прокси-сервер - это сервер-посредник, который пересылает запросы электронной почты нескольким получателям, следуя правилам,  установленным пользователем. Он используется для балансировки нагрузки, фильтрации спама, защиты от вирусов и в других подобных случаях.


**установка NGINX**

`sudo apt install nginx`

`systemctl status nginx`

`systemctl enable nginx`

**UFW**, сокращение от Uncomplicated Firewall, служит в качестве доступного интерфейса для управления правилами брандмауэра iptables. Он не установлен по умолчанию в Debian, но легко доступен из стандартных репозиториев и настоятельно рекомендуется для новичков в конфигурации брандмауэра. Если ваш сервер общедоступен, установка правил UFW становится важным шагом в обеспечении безопасности.

`sudo apt install ufw `

При настройках по умолчанию UFW блокирует все входящие соединения, разрешая при этом все исходящие соединения. Такая настройка обеспечивает базовый уровень безопасности, предотвращая нежелательный доступ к вашей системе и позволяя ей общаться с внешним миром

UFW поддерживает профили приложений, которые представляют собой предопределенные правила, легко применяемые к определенным приложениям. Чтобы просмотреть список установленных приложений с профилями UFW, вы можете выполнить следующую команду:

`ufw app list`

`sudo ufw allow 'SSH'`        

Чтобы разрешить только HTTP (порт 80), используйте:

`sudo ufw allow 'Nginx HTTP'`

Чтобы разрешить только HTTPS (порт 443), используйте следующее:

`sudo ufw allow 'Nginx HTTPS'`

Если вы хотите разрешить HTTP и HTTPS, используйте:

`sudo ufw allow 'Nginx Full'`

Чтобы убедиться, что правила были введены правильно, проверьте активные правила брандмауэра с помощью следующей команды:

`sudo ufw status`

`sudo ufw enable`       # !!! убедитесь что вы добавили ssh в список разрешенных правил, иначе потеряте соединение! (sudo ufw allow 'SSH')

После настройки UFW важно убедиться, что вы можете получить доступ к целевой странице NGINX. В веб-браузере перейдите на IP-адрес вашего сервера:

[http://<your_server_ip>](http://your_server_ip)

[http://localhost](http://localhost)

также можно проверить доступность через утилиту curl 

`curl http://localhost`

поменяе содержимое index.html на произвольное и проверим доступность редактированной страницы

`/var/www/html/index.nginx-debian.html`

```htm
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Welcome !!!!</title>
  </head>
  <body>
    <h1>Nginx home page!</h1>
  </body>
</html>
```

`systemctl restart nginx`

`curl http://localhost`

`curl http://d12-0`

**Одной из мощных возможностей NGINX являются серверные блоки**. Этот механизм позволяет вам размещать несколько доменов на одном сервере, где каждый домен имеет свои настройки конфигурации. 

Пример структуры каталогов

```bash
/var/www/
├── domain1.com
│   └── public_html
├── domain2.com
│   └── public_html
├── domain3.com
│   └── public_html
```


**Создание каталога для вашего домена**

Мы создадим отдельный каталог для каждого домена, который хотим разместить на нашем сервере, в каталоге /var/www . В каждом из этих каталогов мы создадим каталог public_html котором будут храниться файлы веб-сайта домена.

Выполните следующую команду, чтобы создать корневой каталог для домена

`sudo mkdir -p /var/www/d12-0.lup.loc/public_html`

Затем создайте файл index.html в корневом каталоге документов домена:

`sudo vim /var/www/d12-0.lup.loc/public_html/index.html`


```bash
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Welcome to d12-0.lup.loc catalog</title>
  </head>
  <body>
    <h1>Success! d12-0.lup.loc home page!</h1>
  </body>
</html>
```

Чтобы избежать проблем с разрешениями, измените владельца корневого каталога документов домена на пользователя Nginx ( www-data ):

`sudo chown -R www-data: /var/www/d12-0.lup.loc`


**Создание серверного блока**

По умолчанию в системах Debian файлы конфигурации блоков сервера Nginx хранятся в каталоге /etc/nginx/sites-available . Чтобы активировать конфигурацию, вам необходимо создать символическую ссылку на файл в каталог /etc/nginx/sites-enabled/ .

Откройте текстовый редактор и создайте следующий файл серверного блока:

`sudo vim /etc/nginx/sites-available/d12-0.lup.loc.conf`



```bash
server {
    listen 80;
    listen [::]:80;

    root /var/www/d12-0.lup.loc/public_html;

    index index.html;

    server_name d12-0.lup.loc www.d12-0.lup.loc;

     access_log /var/log/nginx/d12-0.lup.loc.access.log;
     error_log /var/log/nginx/d12-0.lup.loc.error.log;

    location / {
        try_files $uri $uri/ =404;
    }
}
```

Включите новый файл блока сервера, создав символическую ссылку из файла в каталог с sites-enabled 

`sudo ln -s /etc/nginx/sites-available/d12-0.lup.loc.conf /etc/nginx/sites-enabled/`

Проверьте правильность синтаксиса в конфигурации Nginx :

`sudo nginx -t`

`sudo systemctl restart nginx`

curl http://d12-0.lup.loc
curl http://d12-0


**Создание серверного блока 2**

`sudo mkdir -p /var/www/d12-01/public_html`

`sudo vim /var/www/d12-01/public_html/index.html`

```bash
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Welcome to d12-01 catalog</title>
  </head>
  <body>
    <h1>Success! d12-01 home page!</h1>
  </body>
</html>
```

`sudo chown -R www-data: /var/www/d12-01`


`sudo vim /etc/nginx/sites-available/d12-01.conf`



```bash
server {
    listen 80;
    listen [::]:80;

    root /var/www/d12-01/public_html;

    index index.html;

    server_name d12-01 www.d12-01;

     access_log /var/log/nginx/d12-01.access.log;
     error_log /var/log/nginx/d12-01.error.log;

    location / {
        try_files $uri $uri/ =404;
    }
}
```


`sudo ln -s /etc/nginx/sites-available/d12-01.conf /etc/nginx/sites-enabled/`

`sudo nginx -t`

`sudo systemctl restart nginx`

curl http://d12-01


!!! не забываем внести соответствующие правки в /etc/hostname

## PHP-FPM 
PHP-FPM (FastCGI Process Manager) - это альтернативный способ запуска PHP скриптов веб-сервером. Он представляет собой отдельный процесс-менеджер FastCGI, который позволяет настраивать и управлять пулом PHP процессов для обработки динамического контента на веб-сайте. 

В отличие от модуля PHP, который интегрируется напрямую в веб-сервер (например, Apache с модулем mod_php), PHP-FPM работает как отдельный процесс, обрабатывающий запросы PHP и взаимодействующий с веб-сервером через протокол FastCGI. Это позволяет PHP-FPM предоставить более гибкий и эффективный способ управления и масштабирования PHP процессов на сервере.

PHP-FPM обладает рядом преимуществ, таких как:
- Высокая производительность: PHP-FPM создает пул процессов, что снижает нагрузку на сервер и обеспечивает более быструю обработку PHP скриптов.
- Управление ресурсами: PHP-FPM позволяет контролировать количество одновременно выполняющихся PHP процессов, что помогает оптимизировать использование ресурсов сервера.
- Изоляция: Каждый PHP процесс работает в своем изолированном контейнере, что повышает безопасность и стабильность сервера.

PHP-FPM широко используется в сфере веб-разработки для обработки динамического контента на сайтах, написанных на PHP. Он часто сочетается с веб-серверами, такими как Nginx или Apache, для обеспечения быстрой и эффективной обработки PHP скриптов.

Установка

`apt install php-fpm`

Отредактируйте файл конфигурации PHP-FPM, чтобы настроить его под ваши нужды:

`vim /etc/php/8.2/fpm/pool.d/www.conf`

Отредактируйте конфигурационный файл Nginx для вашего сайта

`vim /etc/nginx/sites-available/default`



```bash
    location ~ \.php$ {
       include snippets/fastcgi-php.conf;
       fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
    }
```

`sudo nginx -t`


Для проверки работоспособности PHP скриптов на вашем сайте, выполните следующие шаги:

1. Создание тестового PHP-скрипта:
   Создайте простой тестовый PHP-скрипт для проверки. Например, создайте файл test.php в директории вашего сайта с следующим содержанием:

`vim /var/www/html/test.php`

```php
<?php
phpinfo();
?>
```
   

2. Перезапуск Nginx и PHP-FPM:
   Перезапустите Nginx и PHP-FPM, чтобы применить все изменения:
   
`systemctl restart nginx`

`systemctl restart php8.2-fpm`
   

3. Откройте веб-браузер:
   Откройте веб-браузер и введите адрес вашего сайта, а затем добавьте /test.php к URL (например, http://localhost/test.php).

`curl http://localhost/test.php`


## Мониторинг логов Web-сервера. GoAccess. Awstats

### GoAccess
GoAccess - это открытый и бесплатный инструмент аналитики логов веб-сервера, который предоставляет детальную информацию о трафике на вашем веб-сайте. С его помощью вы можете анализировать логи доступа к вашему веб-серверу в реальном времени или анализировать сохраненные лог-файлы для получения ценных данных о посещаемости, источниках трафика, поведении пользователей и других метриках.

Некоторые из основных возможностей GoAccess включают в себя:
- Поддержка различных форматов логов веб-сервера, таких как Apache, Nginx, Amazon S3, CloudFront и других.
- Возможность агрегирования и фильтрации данных для анализа трафика по различным параметрам, таким как IP-адреса, пользователи, статусы HTTP и другие.
- Предоставление детальных отчетов и статистики о посещаемости, запросах, браузерах, операционных системах, странах и других характеристиках трафика.
- Поддержка интерактивной консольной и веб-интерфейса для удобного просмотра и анализа данных.

GoAccess является полезным инструментом для веб-разработчиков, администраторов серверов и маркетологов, которые хотят получить информацию о посещаемости и активности на своем веб-сайте. Он помогает визуализировать данные из лог-файлов в удобной форме, делает аналитику трафика более доступной и помогает принимать более обоснованные решения на основе полученных данных.

Для использования GoAccess:
1. Установите GoAccess на ваш сервер. Вы можете сделать это с помощью пакетного менеджера вашего дистрибутива Linux (например, apt-get ). 
```bash
apt update
apt install goaccess
```

1. Получите доступ к лог-файлам вашего веб-сервера. Обычно лог-файлы веб-серверов находятся в каталоге /var/log.

2. Запустите GoAccess с помощью команды в терминале, указав путь к лог-файлу веб-сервера. Например:
```bash
goaccess /var/log/nginx/access.log
```

4. GoAccess запустит инструмент аналитики в интерактивном режиме в терминале, позволяя вам просматривать данных о посещаемости, запросах, браузерах и других метриках. Интерфейс GoAccess интуитивно понятен и позволяет вам легко фильтровать, сортировать и анализировать данные.

5. Вы также можете использовать дополнительные опции командной строки для настройки вывода, фильтрации данных или сохранения результатов анализа в файл.

6. Если вы предпочитаете веб-интерфейс, GoAccess также поддерживает генерацию отчетов в HTML формате. Для этого можно использовать команду:

```bash
goaccess /var/log/nginx/access.log -o /var/www/html/report.html --log-format=COMBINED --real-time-html
```

### Awstats

Awstats - это другой популярный инструмент для анализа лог-файлов веб-сервера, который предоставляет подробную статистику о посещаемости вашего веб-сайта. В отличие от GoAccess, Awstats предоставляет более обширные отчеты и графики о различных аспектах трафика, включая информацию о посещениях, уникальных посетителях, их местоположении, браузерах, операционных системах и многом другом.

Для использования Awstats, следуйте этим шагам:

`apt install awstats`

Создайте конфигурационный файл для Awstats, указав параметры доступа к логам вашего веб-сервера


`cp /etc/awstats/awstats.conf /etc/awstats/awstats.d12-0.conf`

`vim /etc/awstats/awstats.d12-0.conf`

`vim /etc/awstats/awstats.d12-0.conf`

```bash
LogFile="/var/log/nginx/access.log"
LogFormat=1
SiteDomain="localhost"
DNSLookup=0
DirData="/var/lib/awstats"
HostAliases="localhost 127.0.0.1"
Lang="ru"
DirIcons="/usr/share/awstats/icon/"
```

`mkdir -p /var/lib/awstats/d12-0/`


пропишем куда сохраняются логи

`vim /etc/nginx/sites-available/d12-0.conf`

```bash
     access_log /var/log/nginx/d12-0.access.log;
     error_log /var/log/nginx/d12-0.error.log;
```

`systemctl reload nginx`


Запустите утилиту обновления Awstats для вашего конфигурационного файла, чтобы сгенерировать статистику посещаемости вашего сайта.

`/usr/lib/cgi-bin/awstats.pl -config=d12-0 -update`

`/usr/lib/cgi-bin/awstats.pl -config=default -update`

<!-- Для просмотра готового отчёта нужно выполнить команду -->

<!-- ```bash
/usr/lib/cgi-bin/awstats.pl -config=d12-0 -update -output > /var/www/html/awstats.html
``` -->


Чтобы создать все отчеты используется команда:

```bash
/usr/share/awstats/tools/awstats_buildstaticpages.pl -update -config=default -dir=/var/www/html/ -awstatsprog=/usr/lib/cgi-bin/awstats.pl > /dev/null
```

## Apache Tomcat

Apache Tomcat (или просто Tomcat) - это веб-контейнер, который позволяет запускать веб-приложения, написанные на языках программирования Java, в виде сервлетов и JSP (JavaServer Pages). Tomcat разработан Apache Software Foundation и является открытым и бесплатным программным обеспечением.

Основные возможности Apache Tomcat включают в себя:

1. Поддержка сервлетов и JSP: Tomcat предоставляет окружение выполнения для сервлетов и JSP, позволяя запускать динамические веб-приложения, написанные на Java.

2. Управление веб-приложениями: Tomcat позволяет развертывать, обновлять и удалять веб-приложения с помощью веб-интерфейса администрирования или утилит командной строки.

3. Конфигурация и мониторинг: Tomcat предоставляет возможность настройки параметров контейнера и мониторинга производительности приложений с помощью встроенных инструментов управления.

установите пакет Java Development Kit

`apt install default-jdk`

роверьте версию Java

`java -version`

`mkdir /opt/tomcat`

В целях безопасности должен быть установлен Tomcat и выполнен вход непривилегированным пользователем

`sudo groupadd tomcat`

`sudo useradd -s /bin/false -g tomcat -d /opt/tomcat tomcat`

`curl -O http://apache-mirror.rbc.ru/pub/apache/tomcat/tomcat-9/v9.0.88/bin/apache-tomcat-9.0.88.tar.gz`

`sudo tar xzvf apache-tomcat-9*tar.gz -C /opt/tomcat --strip-components=1`

`cd /opt/tomcat`

`sudo chgrp -R tomcat /opt/tomcat`

<!-- `sudo chmod -R g+r conf`

`sudo chmod g+x conf` -->

`sudo chown -R tomcat:tomcat /opt/tomcat`
<!-- 
Настройте переменную окружения CATALINA_HOME в файле ~/.bashrc:

`echo "export CATALINA_HOME=/opt/tomcat" >> ~/.bashrc`

`source ~/.bashrc`

`/opt/tomcat/bin/startup.sh` -->


<!-- `sudo chown -R tomcat webapps/ work/ temp/ logs/` -->

Создание служебного файла Tomcat systemd

узнаем директорию java

`sudo update-java-alternatives -l`

вывод директории java
/usr/lib/jvm/java-1.17.0-openjdk-amd64

`sudo vim /etc/systemd/system/tomcat.service`

```bash
/etc/systemd/system/tomcat.service
[Unit]
Description=Apache Tomcat Web Application Container
After=network.target

[Service]
Type=forking

Environment=JAVA_HOME=/usr/lib/jvm/java-1.17.0-openjdk-amd64
Environment=CATALINA_PID=/opt/tomcat/temp/tomcat.pid
Environment=CATALINA_HOME=/opt/tomcat
Environment=CATALINA_BASE=/opt/tomcat
Environment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC'
Environment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom'

ExecStart=/opt/tomcat/bin/startup.sh
ExecStop=/opt/tomcat/bin/shutdown.sh

User=tomcat
Group=tomcat
UMask=0007
RestartSec=10
Restart=always

[Install]
WantedBy=multi-user.target
```

`sudo systemctl daemon-reload`

`sudo systemctl start tomcat`

`systemctl status tomcat`

`systemctl enable tomcat`

Настройка входа в систему для Tomcat Manager и Host Manager

`sudo vim /opt/tomcat/conf/tomcat-users.xml`

```xml
<role rolename="admin-gui,manager-gui"/>
<user username="admin" password="password" roles="admin-gui,manager-gui"/>
```

`curl http://localhost:8080/`





## Установка и обзор Webmin

Webmin – это бесплатная веб-панель управления, которая позволяет администраторам управлять различными аспектами своего сервера через веб-интерфейс. Webmin предоставляет удобный способ управления конфигурацией сервера, настройкой пользователей, управлением службами, мониторингом ресурсов и многим другим.

Для установки Webmin следуйте этим шагам:

1. Добавьте репозиторий Webmin в вашу систему. Для этого выполните следующие команды в терминале:

```bash
sudo vim /etc/apt/sources.list
```

Добавьте в конец файла строку:
```bash
deb http://download.webmin.com/download/repository sarge contrib
```

Сохраните изменения и закройте файл. 

2. Добавьте ключ GPG репозитория Webmin с помощью следующей команды:

```bash
wget http://www.webmin.com/jcameron-key.asc
sudo apt-key add jcameron-key.asc

sudo apt-key --keyring /etc/apt/trusted.gpg.d/YOUR-KEY-NAME.gpg add jcameron-key.asc
```

3. Обновите список пакетов и установите Webmin:

```bash
sudo apt update
sudo apt install webmin
```


4. После установки откройте веб-браузер и введите в адресной строке https://your_server_ip:10000, где your_server_ip - это IP-адрес вашего сервера.

`curl https://localhost:10000`

чтобы проигнорировать ошибку сертификата

`curl --insecure https://localhost:10000`

5. Введите учетные данные вашего пользователя суперпользователя (root) или другого пользователя с правами администратора.

6. Вы увидите главную страницу Webmin, где сможете управлять различными аспектами вашего сервера, такими как службы, пользователи, сеть, безопасность и многое другое.

**Чтобы изменить стандартный порт Webmin, следуйте этим шагам:**

1. Зайдите в панель управления Webmin, используя браузер и URL вида https://your_server_ip:10000.

2. Перейдите в раздел "Webmin" в левом меню.

3. Далее выберите "Webmin Configuration".

4. В меню настройки найдите опцию "Port and Address", нажмите на неё.

5. В настройках просмотрите "Listen on addresses and ports". В строке "Listen on port" введите новый порт (например, 12345).

6. Нажмите кнопку "Save" или "Apply Changes", чтобы сохранить изменения.

7. После этого Webmin должен перезапуститься и начнет слушать на новом порте.

8. Проверьте изменения, перейдя в браузере по адресу https://your_server_ip:новый_порт, где "новый_порт" - это порт, который вы указали в настройках.


## Домашнее задание
**main**
1. Подготовить скипт для установки NGINX (nginx_create.sh) который настраиватет веб сервер и редактирует домашнюю страницу, открыть тестовую страницу (скриншот)
2. Установить PHP-FPM, создать тестовый PHP скрипт и отобразить его (скриншот)
3. Настроить систему анализа логов веб сайта GoAccess (скриншот)
4. Подготовить скрипт для установки Webmin, сменить стандартный порт в целях безопасности (скрипт install_webmin.sh, скриншот)

***
**hard**
1. Установить 3 различных серверных блока для nginx (назвать по своему вкусу, главное чтобы они были доступны)
2. Настроить систему анализа логов веб сайта Awstats (скриншот)
3. Настроить Apache Tomcat (скриншот)


***
**Для отчета:**
- создать в личном репозитории организаци github ветку lesson_3_6
- создать директорию lesson_3_6 и разместить там файл домашнего задания
- сделать push и pull request на сайте, в качестве рецензента добавить пользователя AndreyChuyan
